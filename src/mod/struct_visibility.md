# Видимость структуры

Структуры имеют дополнительный уровень видимости благодаря полями. По умолчанию
видимость полей закрытая, но, это можно изменить с помощью переключателя `pub`.
Закрытая видимость имеет значение только при обращении к структуре извне модуля,
где она определена, и необходимо скрыть сведения (инкапсуляция).

```rust,editable
mod my {
   // Открытая структура с открытым полем обобщённого вида `T`
    pub struct OpenBox<T> {
        pub contents: T,
    }

    // Открытая структура с закрытым полем обобщённого вида `T`
    #[allow(dead_code)]
    pub struct ClosedBox<T> {
        contents: T,
    }

    impl<T> ClosedBox<T> {
        // Публичный конструктор
        pub fn new(contents: T) -> ClosedBox<T> {
            ClosedBox {
                contents: contents,
            }
        }
    }
}

fn main() {
    // Открытая структура с открытым полем может быть создана, как обычно
    let open_box = my::OpenBox { contents: "публичную сведения" };

    // а их поля доступны всем.
    println!("Открытая упаковка хранит: {}", open_box.contents);

    // Публичные структуры с закрытыми полями не могут быть созданы, используя имя полей
    // Ошибка! `ClosedBox` имеет закрытые поля
    //let closed_box = my::ClosedBox { contents: "классифицированную сведения" };
    // ЗАДАНИЕ ^ Попробуйте убрать примечания эту строку

    // Однако, структуры с закрытыми полями могут быть созданы с помощью
    // публичного конструктора
    let _closed_box = my::ClosedBox::new("классифицированную сведения");

    // нельзя получить доступ к закрытым полям публичных структур.
    // Ошибка! Поле `contents` закрытое
    //println!("Закрытая упаковка хранит: {}", _closed_box.contents);
    // ЗАДАНИЕ ^ Попробуйте убрать примечания эту строку
}
```

### Смотрите также:

[generics][generics] и [способы][methods]

[generics]: generics.html
[methods]: fn/methods.html