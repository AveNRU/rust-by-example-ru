# Функции

Тот же набор правил применяется и к функциям: вид `T` становится
обобщённым, когда предшествует `<T>`.

При использовании обобщённых функций, иногда требуется явно указывать вид
данных параметров. Это может быть необходимо в случае, если вызываемая функция возвращает
обобщённый вид или у сборщика недостаточно сведений для вывода необходимого
вида данных.

Вызов функции с явно указанными видами данных параметров выглядит так:
`fun::<A, B, ...>()`.

```rust,editable
struct A; // Определенный вид `A`.
struct S(A); // Определенный вид `S`.
struct SGen<T>(T); // Обобщённый вид `SGen`.

// Все следующие функции становятся владельцем переменной, переданной в них.
// После передачи, она сразу выходит из области видимости и освобождается.

// Объявляем функцию `reg_fn`, которая принимает переменная `_s` вида `S`.
// Здесь отсутствует `<T>`, поэтому это не обобщённая функция.
fn reg_fn(_s: S) {}

// Объявляем функцию `gen_spec_t`, которая принимает переменная `_s` вида `SGen<T>`.
// В ней явно задан параметр вида `A`, но поскольку `A` не был указан
// как параметр обобщённого вида для `gen_spec_t`, то он не является обобщённым.
fn gen_spec_t(_s: SGen<A>) {}

// Объявляем функцию `gen_spec_i32`, которая принимает переменная `_s` вида `SGen<i32>`.
// В ней явно задан вид `i32`, который является определённым видом.
// Поскольку `i32` не является обобщённым видом, эта функция
// также не является обобщённой.
fn gen_spec_i32(_s: SGen<i32>) {}

// Объявляем функцию `generic`, которая принимает переменная `_s` вида `SGen<T>`.
// Поскольку `SGen<T>` предшествует `<T>`, эта функция
// является обобщённой над `T`.
fn generic<T>(_s: SGen<T>) {}

fn main() {
    // Используем не обобщённые функции.
    reg_fn(S(A)); // Определенный вид.
    gen_spec_t(SGen(A)); // Неявно определён вид параметра `A`.
    gen_spec_i32(SGen(6)); // Неявно определён вид параметра `i32`.

    // Явно определён вид параметра `char` в `generic()`.
    generic::<char>(SGen('a'));

    // Неявно определён параметр вида `char` в `generic()`.
    generic(SGen('c'));
}
```

### Смотрите также:

[Функции][fn] и [структуры][structs]

[fn]: fn.html
[structs]: custom_types/structs.html
